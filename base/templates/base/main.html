<!DOCTYPE html>
{% load static %}
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>HelloWorld</title>
        <link rel="stylesheet" type="text/css" media="screen" href="{% static 'styles/main.css' %}">
        <link rel="icon" type="image/x-icon" href="{% static 'images/icon-2.png' %}">
    </head>

    <body>
        <div id="top-nav">
            <img src="{% static 'images/moon.png' %}" id="theme-icon">
        </div>
        {% block content %}

        {% endblock content %}
    </body>

</html>
<script>
    var icon = document.getElementById("theme-icon");


    if (localStorage.getItem("theme") == null) {
        localStorage.setItem("theme", "light");
    }
    let localData = localStorage.getItem("theme");

    if (localData == "light") {
        icon.src = "{% static 'images/moon.png' %}"
        document.body.classList.remove("dark-theme");
    } else if (localData == "dark") {
        icon.src = "{% static 'images/sun.png' %}"
        document.body.classList.add("dark-theme");
    }


    icon.onclick = function () {
        document.body.classList.toggle("dark-theme")
        if (document.body.classList.contains("dark-theme")) {
            icon.src = "{% static 'images/sun.png' %}";
            localStorage.setItem("theme", "dark");
        } else {
            icon.src = "{% static 'images/moon.png' %}";
            localStorage.setItem("theme", "light");
        }
    }
</script>